**CDN** (**Content** **Delivery** **Network**) - это географически распределённая сетевая инфраструктура, обеспечивающая быструю доставку контента пользователям веб-сервисов и сайтов. Входящие в состав CDN cерверы географически располагаются таким образом, чтобы сделать время ответа для пользователей сайта/сервиса минимальным.

**Ориджин (origin)** — сервер, на котором хранятся исходные файлы или данные, раздаваемые через CDN.  
  
**PoP (point of presence, точка присутствия)** — кэширующий сервер в составе CDN, расположенный в определенной географической локации. Для обозначения таких серверов также используется термин edge.  
  
**Динамический контент** ― контент, генерируемый на сервере в момент получения запроса (либо изменяемый пользователем, либо загружаемый из базы данных).  
  
**Статический контент** ― контент, хранимый на сервере в неизменяемом виде (например, бинарные файлы, аудио- и видеофайлы, JS и CSS).

**Сетевая топология** - конфигурация графа, вершинами которого соответствуют конечные узлы сети (компьютеры) и коммуникационное оборудование (маршрутизаторы), а ребрами физические или информационные связи между вершинами

![[Pasted image 20250213020132.png]]

Виды сетевой топологии:
- физическая - описывает реально расположение и связи между узлами сети
- логическая - описывает хождение сигнала в рамках физической топологии
- информационной - описывает направление потоков информации, передаваемой по сети
- управление обменом - принцип передачи права на пользование сетью

Топологии:
- полносвязная

![[Pasted image 20250213022126.png]]
- неполносвязная
	- шина
	- ![[Pasted image 20250213022409.png]]
	- звезда
	- ![[Pasted image 20250213022415.png]]
	- кольцо
	- ![[Pasted image 20250213022420.png]]
- ячеистая топология - Получается из полносвязной топологии путём удаления некоторых связей. Допускает соединения большого количества компьютеров и характерна для крупных сетей.
- смешанная топология
- ![[Pasted image 20250213022443.png]]

Вспомогательное устройство для топологии _звезды_:
- концентратор (старое) - объединение компьютеров с применением кабельной инфраструктуры типа витая пара (патч корд) - работает на физическом уровне сетевой модели OSI
- коммутатор (свитч) - работает на втором канальном  уровне OSI

Как происходит запрос в гугл?

![[Pasted image 20250213024204.png]]

Идет запрос к провайдеру, от провайдера к его родительскому и тд
Множество провайдеров объединены через хабы - точки обмена трафиком

![[Pasted image 20250213024541.png]]

Точки обмена трафиком - сетевая инфраструктура предназначенная для оперативной организации соединений и межоператорского обмена [сетевым трафиком](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9_%D1%82%D1%80%D0%B0%D1%84%D0%B8%D0%BA "Сетевой трафик") ([пиринга](https://ru.wikipedia.org/wiki/%D0%9F%D0%B8%D1%80%D0%B8%D0%BD%D0%B3 "Пиринг")) между независимыми сетями в [Интернете](https://ru.wikipedia.org/wiki/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82 "Интернет"). Участниками обмена трафиком обычно являются организации, управляющие независимыми сетями.
Пиринг - соглашение интернет-операторов об обмене трафиком между своими сетями, а также техническое взаимодействие, реализующее данное соглашение: соединение сетей и обмен информацией о сетевых маршрутах по протоколу [BGP](https://ru.wikipedia.org/wiki/Border_Gateway_Protocol "Border Gateway Protocol")[[1]](https://ru.wikipedia.org/wiki/%D0%9F%D0%B8%D1%80%D0%B8%D0%BD%D0%B3#cite_note-1).

Интернет построен на коммутации пакетов. Коммутация пакетов - способ динамического распределения ресурсов сети связи за счёт передачи и коммутации оцифрованной информации в виде частей небольшого размера.

Протокол - набор правил определяющий как узлы сети должны передавать данные друг другу. 

Пример высокоуровневых протоколов: HTTP, SSH, IMAP, DHCP

Модели описывающие уровни протоколов:
- OSI (Open System Interconnection) - теоретическая
- TCP/IP (Transmission Control Protocol / Internet Protocol) - практическая

## OSI
7 уровней работают снизу вверх 

![[Pasted image 20250213141404.png]]

1. Физический уровень - определяет метод передачи данных, какая среда используется (передача электрических сигналов), уровень напряжения, метод кодирования двоичных сигналов.
2. Канальный уровень - задача адресации в пределах локальной сети, обнаруживает ошибки, проверяет целостность данных. (MAC - адрес, протокол Ethernet). Передаваемая информация - кадры.
3. Сетевой уровень - объединение участков сети и выбор оптимального пути (маршрутизация). Каждое устройство должно иметь уникальный сетевой адрес в сети. (протоколы IPv4 IPv6)
4. Транспортный уровень - передача сегментов файлов, порты, протоколы TCP, UDP. Информация транспортного называется сегменты. Применимо только для TCP, для UDP - датаграмма. Разница в названии не критична.
5. Сеансовый уровень - установление, управление и разрыв соединений между хостами. виде. Передаваемая информация обозначается как PDU (Protocol Data Units)
6. Уровень представления - структурирование информации в читабельный вид для прикладного уровня. виде. Передаваемая информация обозначается как PDU (Protocol Data Units)
7. Прикладной уровень - вывод информации пользователю в понятном виде. Передаваемая информация обозначается как PDU (Protocol Data Units)

Все процессы строго проходят друг за другом. С верхнего на нижний инкапсуляция, с нижнего на верхний деинкапсуляция. 


## TCP/IP

![[Pasted image 20250213143620.png]]

Уровни
1. Application Layer (прикладной уровень)
2. Transport Layer (транспортный уровень)
3. Network Layer (сетевой уровень)
4. Link Layer (канальный уровень)


Общая схема передачи.
1. Генерируется сообщение на уровне приложения 
2. Передача на транспортный уровень, добавляется TCP/UDP заголовок. Заголовок хранит в себе информацию о портах, нагрузке и тд. Получается датаграмма или сегмент
3. Передача на межсетевой уровень. Добавляется IP-заголовок. Заголовок содержит в себе адреса компьютеров, на которых запущено приложение. Результат объединения сегмента и IP-заголовка называется пакетов.
4. Передача на канальный уровень. Протоколы добавляют свои заголовки и в результате получается кадр. Кадр обычно содержит в себе не только заголовок, но и окончание

![[Pasted image 20250213144821.png]]

Когда кадр передаётся от одного промежуточного узла сети к другому, эти узлы разбирают кадр на части, проверяют IP-заголовок пакета, определяют что с ним делать, а затем создают новый кадр для этого пакета и передают его следующему узлу.

![[Pasted image 20250213144858.png]]

Самые важные транспортные протоколы TCP (Transmission Control Protocol), UDP (User Datagram Protocol)

Протоколы транспортного уровня используются для адресации пакетов с порта приложения отправителя на порт приложения получателя

## UDP (User Datagram Protocol)
Используется для "связи без установки соединения" (connectionless communication). Один узел сети отсылает пакеты, адресуя их другому узлу. Отправитель не ждет подтверждения о том, что получатель принял предыдущие пакеты.

Заголовок UDP-пакета состоит из 8 байт:
- порт отправителя
- порт получателя
- длина датаграммы
- контрольная сумма

![[Pasted image 20250213150131.png]]


## TCP (Transmissin Control Protocol)
Между клиентом и сервером происходит соединение для проверки доставки пакетов. Перед отправкой данных сервер и клиент должны установить соединение - рукопожатие.

Рукопожатие происходит в 3 этапа:
1. Клиент посылает сервер пакет SYN
2. Сервет отвечает пакетов SYN-ACK
3. Клиент отвечает серверу пакетов ACK

![[Pasted image 20250213152351.png]]

Для завершения рукопожатия используется флаг FIN, возможно использование RST.

Решаемые задачи во время передачи данных:
- сегменты доставлены в нужном порядке
- сегменты доставлены
- контроль потока пакетов, для избегания перегрузки узлов сети 

Заголовок TCP минимум 20 байт:
- порт отправителя
- порт получателя
- порядковый номер (Sequence number) - сколько данных отправитель послал в сторону получателя. Номер увеличивается на 1 каждый раз, когда отправитель посылает пакеты с флагом SYN, FIN, так же увеличивается на размер полезных данных если они были переданы. Число, указанное в номере не учитывает текущий пакет. Порядковый номер первого пакета, посылаемого клиентом, всегда равен 0. 
- номер подтверждения (Acknowledgement number) - показывает сколько данных отправитель этого пакета получил на текущий момент. Отзеркаливает порядковый номер на 1 больше. Первый пакет всегда равен 1.
- длина заголовка
- флаги - названия пакетов для установки рукопожатия
- размер окна
- контрольная сумма
- указатель важности
- дополнительные опции

![[Pasted image 20250213150832.png]]

