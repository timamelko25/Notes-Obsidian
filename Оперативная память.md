
Память - компонент компьютера, способный хранить в себе разлинчую информацию (картинки, письма…)

Есть несколько типов памяти (по скорости)

1. Регистры - маленькие ячейки памяти, которые находятся на самом процессоре.
2. Кеш память - хранилище для часто используемых данных процессором. Состоят из нескольких уровней
3. Оперативная память
4. Внешние накопители

Оперативная память - энергозависимая динамическая память DRAM (Dynamic Random Access Memory). Ячека состоит из конденсатора и транзистора

Запись и чтение данных в ячейке осуществялется определенными сигналами CAS(Column Address Strob - выбор ячейки, через актиывацию столбца) и RAS(Row Address Strob - активация строки)

Путем зараядки и разрядки конденстора хранятся данные.

Заряд на конденсторе с течением времени уходит, и чтобы этого не происходило нужно переодически фиктивно считывать информацию и заново записывать 0 или 1 - регенерировать заряд заново. Чтобы ускорить процесс перезарядки конденсаторов и не мешать процессу чтению и записи, память разбивается на банки. Пока в одной банке происходит чтение или запись в другой происходит процесс регенерации. - первый способ сокрарить задержки при работе памяти.

При работе возникают задержки при работе с памятью они характеризуются тактами. В результате цп ждет постпуление информации. Это все называется таймингами.

Тайминги обычно состоят из 3/4 чисел (CL 3200 9-9-9-24 или CL 3200 10-10-10)

CAS задержка (CL (number))- задержка между отправкой в память адреса столбца и началом передачи данных

1 число (tRCD - row address to Column Address delay) - число тактов между открытием строки и доступом к столбцам в ней (время, требуемое на чтнеие первого бита из памяти и без активной строки tRCD +CL)

2 число (Row Precharge tRP) - время в тактах между командой на предварительный заряд банка(закрытие строки) и открытием следующей строки. Время требуемое на чтение первого бита из памяти, когда активна другая tRP+tRCD+CL

3 число (Row Activate Time tRAS - время между командой на открытие банка паямти и командой на предварительный заряд конденсатора. В течеие этого врмени строка памяти может быть доступна для чтения или написи. Как минимум составляет сумму rRCD+tRP

Вторичные тайминги выставляются автоматически системой микросхемой SPD на модуле оперативной памяти

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/bc93acf9-0c65-448b-8aee-172ff6347445/4f05d4c1-362b-4aa5-ae1d-7bdf8ffe57f1/Untitled.png)

Command Rate (CR) - 1/2 такта (1/2 T) - когда контроллер памяти пытается получить доступ к памяти он должен выбрать банк памяти. Этот выбор делается с помощбю. команды CS (Chip Select). В DDR4 16 банок, из них выбирается CAS и RAS, чтобы прочитать информацию и отправить в ЦП. CR указывает за какое кол-во тактов контроллер памяти сможет обратиться к банку памяти. При последующих обращениях к одному и тому же банку памяти, дополнительной задержки CR не будет.

Сейчас используется SDRAM DDR - синхронная память с удвоенной скоростью передачи данных. Внутренняя частота синхронизации памяти от 133 до 200 мГЦ. Частота шины данных от которой зависит пропусканая способность памяти состоявлет половину от частоты указанной на оперативной памяти. Почему так - данные передаются с удвоенной скоростью на фронте и наспаде тактового сигнала

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/bc93acf9-0c65-448b-8aee-172ff6347445/0f6a25f6-dc9c-4225-b17a-5777a9a9c2b3/Untitled.png)

Эф. частота * 8 байт = скорость в МБ/с

Оперативная память как логичнская единица представляет собой адресное пространство длиной 64 бит, что сотавляет 8 байт - слово данных

Если память поддерживает ECC (коррекцию ошибок) то +1 байт

Одностороння память - чипы распаяны на 1 стороне и содержит 8 микросхем по 8 бит = 64 бит. Одноранговая память

Двусторонний одноранговый модуль из 16 микросхем по 4 бит. На каждой стороне 8 микросхем

Двухранговая память - 2 логических независимых адресных блока по 64 бита каждый. Каждая сторона планки состоит из 8 микросхем по 8 бит каждая, что жает 64 бита на одной стороне и столько же на другой. Если микросхемы по 4 бит, то их нужно в 2 раза больше.

Четырехранговая память для серверов

Получается планка DDR4 всега двухранговая

Оперативаня память при работе со столбцами в пакетоном режиме. У DDR4 длина пакета составляет 8 байт = 1 слово данных. Так же для увелечения проихводительности используется Prefetch buffer, который так же составялет 8 (у DDR4). Обозначается 8n. Prefetch buffer позволяет сократить узкое бутылочное горло в виде низкой частоты ядра памяти, то есть самого массива ячеек, которая остается низкой из-за повыающейся плотности памяти. 8n означает что шина данных работает в 8 раз быстрее, чем работа ядра памяти за 1 раз память DDR4 передает 64 байта

Каждая операция синхронезируется опорной частотой, чтобы все операции происходили без ошибок и в нужной последовательности

Перезаряжать целые группы построчно - второй сопособ (скрытая регенеарция). Он происходит срауз полсе чтения или записи

Оперативная память представляет собой блоьшой набор ячеек. Бит - минимальная единица хранения информации в этой ячейке. Бит представляет собо 0 или 1.

8 бит собираются в 1 байт. Процессор не может обращаться к одному биту поэтому обращается к байту.

Байт - минимальная ячейка адресации

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/bc93acf9-0c65-448b-8aee-172ff6347445/8a1e953e-0ae5-499e-a8af-402f357043b3/Untitled.png)

Каждый байт имеет свой адрес и обращение к кажому байту называется - байтовая адресация

Словесная адресация - для обращения к машинным словам длиной 32/64 бит

В повседневных компьютерах используются 8-битовые

Процессор быстрее обрабатывает байтовую адресацию чем словесную. Слово представлено байтами и каждаю буква записана в своем адресе, процессору проще обращаться к букве. При словесной слово запишется целиуом в в 1 адрес без последующей возможности быстрого изменения.

Тем самым для строк лучше байтовая адресация а для чисел словесная

Количество регистров в оперативной памяти определятеся: максимальное число = 2 ^ размер регистра

Количество адресов ОЗУ = сколько может обработать адресов процессор

big / little endian

Выравнивание слов

типы данных

Массив - структура дынных, в которй каждый элемнт имеет индекс от 0 до n-1. n - кол-во элементов в массиве

стек куча

Чтобы получить доступ к числу в массиве нам нужно:

1. адрес начала массива
2. индекс искомого элемента
3. размер элементов массива

Автоматичское управление памяти - Java / Python / C# / JavaScript -

Ручное управлние - C / C++ - вручную удаляем ненужные использованную память

DDR - double data rate - способность за 1 такт выполнять 2 операции с данными.

Для вычисления тактовой частоты памяти: Частота шины * 2.

тактовой частоты памяти - время между отправкой команды контроллером памяти и её выполнением

Пропускная способность памяти = частота памятит * ширину шины.

**Ширина** **шины** **оперативной** **памяти** – **это** параметр, определяющий количество битовых линий, которые используются для передачи данных между центральным процессором (ЦП) и **оперативной** **памятью** (**ОЗУ**).

Тайминги перед подачей команды и ее исполнением есть задержка