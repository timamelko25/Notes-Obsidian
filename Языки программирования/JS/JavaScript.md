
Как правило, только простейшие скрипты помещаются в HTML. Более сложные выделяются в отдельные файлы.

Польза отдельных файлов в том, что браузер загрузит скрипт отдельно и сможет хранить его в [кеше](https://en.wikipedia.org/wiki/Web_cache).

Другие страницы, которые подключают тот же скрипт, смогут брать его из кеша вместо повторной загрузки из сети. И таким образом файл будет загружаться с сервера только один раз.

Это сокращает расход трафика и ускоряет загрузку страниц.

В этом случае JavaScript интерпретирует перенос строки как «неявную» точку с запятой. Это называется [автоматическая вставка точки с запятой](https://tc39.github.io/ecma262/#sec-automatic-semicolon-insertion).

**Но есть ситуации, где JavaScript «забывает» вставить точку с запятой там, где она нужна.**

Чтобы устаревший код работал, как и раньше, по умолчанию подобные изменения не применяются. Поэтому нам нужно явно их активировать с помощью специальной директивы: `"use strict"`.

Проверьте, что `"use strict"` находится в первой исполняемой строке скрипта, иначе строгий режим может не включиться.

Современный JavaScript поддерживает «классы» и «модули» — продвинутые структуры языка (и мы, конечно, до них доберёмся), которые автоматически включают строгий режим.

Переменная – это «именованное хранилище» для данных

Для создания переменной в JavaScript используйте ключевое слово `let`

используется верблюжья нотация

Чтобы объявить константную, то есть, неизменяемую переменную, используйте `const` вместо `let`

```js
const value = 5;
```

Числовой тип данных `number` представляет собой целочисленные значения и числа с плавающей точкой. Предел `number` от (2^53 -1) до -(2^53 -1).  
Если говорить совсем точно, то, технически, тип `number` _может_ хранить большие целые числа (до `1.7976931348623157 * 10308`), но за пределами безопасного диапазона целых чисел `±(253-1)` будет ошибка точности, так как не все цифры помещаются в фиксированную 64-битную память. Поэтому можно хранить «приблизительное» значение.
Тип `BigInt` был добавлен в JavaScript, чтобы дать возможность работать с целыми числами произвольной длины. Чтобы создать значение типа `BigInt`, необходимо добавить `n` в конец числового литерала
```js
const bigInt = 123123123123123123123123n;
```

Обратные же кавычки имеют расширенную функциональность. Они позволяют нам встраивать выражения в строку, заключая их в `${…}`

```js
let name = "Ivan";

console.log(`result = ${name}`);
```

В JavaScript есть только тип `string`. Строка может содержать ноль символов (быть пустой), один символ или множество.
Булевый тип (`boolean`) может принимать только два значения: `true` (истина) и `false` (ложь).
В `object` (объектах) же хранят коллекции данных или более сложные структуры.
Тип `symbol` (символ) используется для создания уникальных идентификаторов в объектах.
### Браузерные функции интерфейса

`alert` С этой функцией мы уже знакомы. Она показывает сообщение и ждёт, пока пользователь нажмёт кнопку «ОК».

`prompt` Функция `prompt` принимает два аргумента:

```javascript
result = prompt(title, [default]);
```

Этот код отобразит модальное окно с текстом, полем для ввода текста и кнопками OK/Отмена. `title`  Текст для отображения в окне. `default`  Необязательный второй параметр, который устанавливает начальное значение в поле для текста в окне.

Квадратные скобки в синтаксисе `[...]` Квадратные скобки вокруг `default` в описанном выше синтаксисе означают, что параметр факультативный, необязательный.

`confirm`  
```javascript
result = confirm(question);
```

Функция `confirm` отображает модальное окно с текстом вопроса `question` и двумя кнопками: OK и Отмена.

Результат – `true`, если нажата кнопка OK. В других случаях – `false`.

### Преобразование типов

Например, `alert` автоматически преобразует любое значение к строке. Математические операторы преобразуют значения к числам.

использовать функцию `String(value)`, чтобы преобразовать значение к строке

```javascript
let value = true;
alert(typeof value); // boolean

value = String(value); // теперь value это строка "true"
alert(typeof value); // string
```

Численное преобразование происходит в математических функциях и выражениях.

Например, когда операция деления `/` применяется не к числу:

```javascript
alert( "6" / "2" ); // 3, строки преобразуются в числа
```

Мы можем использовать функцию `Number(value)`, чтобы явно преобразовать `value` к числу:

```javascript
let str = "123";
alert(typeof str); // string

let num = Number(str); // становится числом 123

alert(typeof num); // number
```

Явное преобразование часто применяется, когда мы ожидаем получить число из строкового контекста, например из текстовых полей форм.

Если строка не может быть явно приведена к числу, то результатом преобразования будет `NaN`. Например:

```javascript
let age = Number("Любая строка вместо числа");

alert(age); // NaN, преобразование не удалось
```

Правила численного преобразования:

| Значение       | Преобразуется в…                                                                                                                                                                                                                        |
| -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `undefined`    | `NaN`                                                                                                                                                                                                                                   |
| `null`         | `0`                                                                                                                                                                                                                                     |
| `true / false` | `1` / `0`                                                                                                                                                                                                                               |
| `string`       | Пробельные символы (пробелы, знаки табуляции `\t`, знаки новой строки `\n` и т. п.) по краям обрезаются. Далее, если остаётся пустая строка, то получаем `0`, иначе из непустой строки «считывается» число. При ошибке результат `NaN`. |

Примеры:

```javascript
alert( Number("   123   ") ); // 123
alert( Number("123z") );      // NaN (ошибка чтения числа на месте символа "z")
alert( Number(true) );        // 1
alert( Number(false) );       // 0
```

Учтите, что `null` и `undefined` ведут себя по-разному. Так, `null` становится нулём, тогда как `undefined` приводится к `NaN`.

Большинство математических операторов также производит данное преобразование, как мы увидим в следующей главе.

## Логическое преобразование

Логическое преобразование самое простое.

Происходит в логических операциях, но также может быть выполнено явно с помощью функции `Boolean(value)`.

Правило преобразования:

- Значения, которые интуитивно «пустые», вроде `0`, пустой строки, `null`, `undefined` и `NaN`, становятся `false`.
- Все остальные значения становятся `true`.

Например:
```javascript
alert( Boolean(1) ); // true
alert( Boolean(0) ); // false

alert( Boolean("Привет!") ); // true
alert( Boolean("") ); // false
```

Заметим, что строка с нулём `"0"` — это `true`

Некоторые языки (к примеру, PHP) воспринимают строку `"0"` как `false`. Но в JavaScript, если строка не пустая, то она всегда `true`.

```javascript
alert( Boolean("0") ); // true
alert( Boolean(" ") ); // пробел это тоже true
```

### Базовые операторы, математика

_Операнд_ – то, к чему применяется оператор. Например, в умножении `5 * 2` есть два операнда: левый операнд равен `5`, а правый операнд равен `2`. Иногда их называют «аргументами» вместо «операндов».

_Унарным_ называется оператор, который применяется к одному операнду. Например, оператор унарный минус `"-"` меняет знак числа на противоположный:

_Бинарным_ называется оператор, который применяется к двум операндам. Тот же минус существует и в бинарной форме:

##### Сложение строк при помощи бинарного +. 
Но если бинарный оператор `'+'` применить к строкам, то он их объединяет в одну:

```javascript
let s = "моя" + "строка";
alert(s); // моястрока
```

Обратите внимание, если хотя бы один операнд является строкой, то второй будет также преобразован в строку.

Например:

```javascript
alert( '1' + 2 ); // "12"
alert( 2 + '1' ); // "21"
```

Как видите, не важно, первый или второй операнд является строкой.

Вот пример посложнее:

```javascript
alert(2 + 2 + '1' ); // будет "41", а не "221"
```

Здесь операторы работают один за другим. Первый `+` складывает два числа и возвращает `4`, затем следующий `+` объединяет результат со строкой, производя действие `4 + '1' = '41'`.

Сложение и преобразование строк — это особенность бинарного плюса `+`. Другие арифметические операторы работают только с числами и всегда преобразуют операнды в числа.

Например, вычитание и деление:
```javascript
alert( 6 - '2' ); // 4, '2' приводится к числу
alert( '6' / '2' ); // 3, оба операнда приводятся к числам
```

##### Приведение к числу унарный +

Плюс `+` существует в двух формах: бинарной, которую мы использовали выше, и унарной.

Унарный, то есть применённый к одному значению, плюс `+` ничего не делает с числами. Но если операнд не число, унарный плюс преобразует его в число.

Например:

```javascript
// Не влияет на числа
let x = 1;
alert( +x ); // 1

let y = -2;
alert( +y ); // -2

// Преобразует не числа в числа
alert( +true ); // 1
alert( +"" );   // 0
```

На самом деле это то же самое, что и `Number(...)`, только короче.

Необходимость преобразовывать строки в числа возникает очень часто. Например, обычно значения полей HTML-формы — это строки. А что, если их нужно, к примеру, сложить?

Бинарный плюс сложит их как строки:

```javascript
let apples = "2";
let oranges = "3";

alert( apples + oranges ); // "23", так как бинарный плюс объединяет строки
```

Поэтому используем унарный плюс, чтобы преобразовать к числу:

```javascript
let apples = "2";
let oranges = "3";

// оба операнда предварительно преобразованы в числа
alert( +apples + +oranges ); // 5

// более длинный вариант
// alert( Number(apples) + Number(oranges) ); /
```

![[Pasted image 20241112232831.png]]

Используется кодировка Unicode, а не настоящий алфавит. 

### Операторы сравнения
- Больше/меньше: `a > b`, `a < b`.
- Больше/меньше или равно: `a >= b`, `a <= b`.
- Равно: `a == b`. Обратите внимание, для сравнения используется двойной знак равенства `==`. Один знак равенства `a = b` означал бы присваивание.
- Не равно. В математике обозначается символом `≠`, но в JavaScript записывается как `a != b`.
Результат сравнения имеет логический тип данных
При сравнении значений разных типов JavaScript приводит каждое из них к числу.

Например:
```javascript
alert( '2' > 1 ); // true, строка '2' становится числом 2
alert( '01' == 1 ); // true, строка '01' становится числом 1
```

**Оператор строгого равенства `===` проверяет равенство без приведения типов.**
```javascript
alert( 0 === false ); // false, так как сравниваются разные типы
```

### Условное ветвление: if ?

### Логическое операторы
- `||` (ИЛИ)
    - `||=` (Оператор логического присваивания ИЛИ)
- `&&` (И)
    - `&&=` (Оператор логического присваивания И)
- `!` (НЕ)
- `??` (Оператор нулевого слияния)
    - `??=` (Оператор нулевого присваивания)


||= оператор логического присваивания ИЛИ
Эта возможность была добавлена в язык недавно. В старых браузерах может понадобиться [полифил](https://learn.javascript.ru/polyfills).

Оператор логического присваивания ИЛИ `||=` записывается как обычный ИЛИ `||` с добавлением символа присваивания `=`. Такая запись не случайна, так как результат выполнения данного оператора напрямую зависит от действий уже известного нам `||`.

Вот его синтаксис:

```javascript
a ||= b;
```

Оператор `||=` принимает два операнда и выполняет следующие действия:

- Вычисляет операнды слева направо.
- Конвертирует `a` в логическое значение.
- Если `a` ложно, присваивает `a` значение `b`.

Концепция оператора `||=` заключается в «сокращённом вычислении», принцип работы которого мы разобрали ранее.

&&= оператор логического присваивания И

Эта возможность была добавлена в язык недавно. В старых браузерах может понадобиться [полифил](https://learn.javascript.ru/polyfills).

Оператор логического присваивания И `&&=` записывается как два амперсанда `&&` и символ присваивания `=`.

Вот его синтаксис:

```javascript
a &&= b;
```

Принцип действия `&&=` практически такой же, как и у оператора логического присваивания ИЛИ `||=`. Единственное отличие заключается в том, что `&&=` присвоит `a` значение `b` только в том случае, если `a` _истинно_.

Концепция оператора логического присваивания И `&&=` также основывается на «сокращённом вычислении»:

```javascript
a && (a = b);
```

Пример использования:

[](https://learn.javascript.ru/logical-operators# "выполнить")

[](https://learn.javascript.ru/logical-operators# "открыть в песочнице")

```javascript
let greeting = "Привет"; // строка непустая, поэтому будет преобразована к логическому значению true оператором &&=

greeting &&= greeting + ", пользователь!"; // то же самое, что true && (greeting = greeting + "...")

alert( greeting ) // "Привет, пользователь!"
```


### Операторы нулевого слияния и присваивания ?? ??=

Оператор нулевого слияния представляет собой два вопросительных знака `??`.

Так как он обрабатывает `null` и `undefined` одинаковым образом, то для этой статьи мы введём специальный термин. Для краткости будем говорить, что значение «определено», если оно не равняется ни `null`, ни `undefined`.

Результат выражения `a ?? b` будет следующим:

- если `a` определено, то `a`,
- если `a` не определено, то `b`.

Иначе говоря, оператор `??` возвращает первый аргумент, если он не `null/undefined`, иначе второй.

Как правило, оператор `??` нужен для того, чтобы задать значение по умолчанию для потенциально неопределённой переменной.

Важное различие между ними заключается в том, что:

- `||` возвращает первое _истинное_ значение.
- `??` возвращает первое _определённое_ значение.

Проще говоря, оператор `||` не различает `false`, `0`, пустую строку `""` и `null/undefined`. Для него они все одинаковы, т.е. являются ложными значениями. Если первым аргументом для оператора `||` будет любое из перечисленных значений, то в качестве результата мы получим второй аргумент.

Однако на практике часто требуется использовать значение по умолчанию только тогда, когда переменная является `null/undefined`. Ведь именно тогда значение действительно неизвестно/не определено.

```javascript
x ??= y
```

Оператор `??=` присвоит `x` значение `y` только в том случае, если `x` _не определено_ (`null`/`undefined`).


### Циклы while and for

Одно выполнение тела цикла по-научному называется _итерация_.

Цикл `while` имеет следующий синтаксис:

```javascript
while (condition) {
  // код
  // также называемый "телом цикла"
}
```

Проверку условия можно разместить под телом цикла, используя специальный синтаксис `do..while`:

```javascript
do {
  // тело цикла
} while (condition);
```

Более сложный, но при этом самый распространённый цикл — цикл `for`.

Выглядит он так:

```javascript
for (начало; условие; шаг) {
  // ... тело цикла ...
}
```

мы можем выйти из цикла в любой момент с помощью специальной директивы `break`.

### Конструкция switch

Конструкция `switch` имеет один или более блок `case` и необязательный блок `default`.

Выглядит она так:

```javascript
switch(x) {
  case 'value1':  // if (x === 'value1')
    ...
    [break]

  case 'value2':  // if (x === 'value2')
    ...
    [break]

  default:
    ...
    [break]
}
```

### Функции

Для создания функций мы можем использовать _объявление функции_.

независимо от того, как создаётся функция – она является значением.

Пример объявления функции:
```javascript
function showMessage() {
  alert( 'Всем привет!' );
}

showMessage();
showMessage();
```

- Параметр – это переменная, указанная в круглых скобках в объявлении функции.
- Аргумент – это значение, которое передаётся функции при её вызове.

Синтаксис, который мы использовали до этого, называется _Function Declaration_ (Объявление Функции):

Существует ещё один синтаксис создания функций, который называется _Function Expression_ (Функциональное Выражение).

Данный синтаксис позволяет нам создавать новую функцию в середине любого выражения.

Это выглядит следующим образом:

```javascript
let sayHi = function() {
  alert( "Привет" );
};
```

**Function Expression создаётся, когда выполнение доходит до него, и затем уже может использоваться.**
**Function Declaration может быть вызвана раньше, чем она объявлена.**

**В строгом режиме, когда Function Declaration находится в блоке `{...}`, функция доступна везде внутри блока. Но не снаружи него.**