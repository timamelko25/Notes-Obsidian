Числа с плавающей запятой один из компромиссов для представления действительных чисел между точностью и диапазоном принимаемых значений

Число с плавающей точкой состоит из набора разрядов:

- знак
- порядок (экспонента) - степень базы (двойки) старшего разряда (показывает на какое число домножить мантиссу)
- мантисса - целое число фиксированной длины, которое представляет старшие разряды действительного числа (фикс. кол-во битов, которое выражает точность числа).

Математическая формула: (-1)^(знак) * М * 2^(порядок)

Нормализованные числа -

Денормализованные числа -

Числа с половинной, двойной и расширенной точностью обладают теми же особенностями, но имеют другой диапазон порядка и мантиссы. В числах одинарной точности (float/single) порядок состоит из 8 бит, а мантисса – из 23.

Эффективный порядок определяется как E-127.

Пример с типом данных, с одинарной точностью (float) на числе 0,875.

0.875 = 0.111=1.11 * 2^(-1)

Знак 0

Экспонента должна быть равна -1 (степень двойки) = 01111110

(01111110-127 = 126-127 = -1

Мантиса 1100…0

Итоговое представление: 0 01111110 1100…0

10,25 = 1010.01 = 1.01001*2^3

0,25 * 2 == 0,5 == 0

0,5 * 2 == 1,0 == 1

0,0 * 2 == 0,0 == 0…

Знак 0

Экспонента 01111111(127)+11(3) = 10000010

Мантиса 0100100…0

Итоговое представление: 0 10000010 0100100…0

Обратный перевод: 1.0100100…0 = 1_2^0+0_2^(-1)+1_2^(-2)+0_2^(-3)+0_2^(-4)+1_2^(-5)+…

Прибавляем к степеням 3 = 1_2^3+1_2^1+1*2^(-2)=8+2+0.25=10.25

Представление особых случаев:

0 = 0 0…0 0…0

-0 = 1 0…0 0…0

Infinity = 0 11111111 0…0

-Infinity = 1 11111111 0…0

NaN (Not a number) 1 11111111 0…1…0 - хотя бы 1 ненулевой бит в мантисе

Денормализованные числа - вид чисел с плавающей точкой у которых мантисса начинается с 0, а не с 1, экспонента очень маленькая или отрицательная. Сами числа имеют ограниченную точность представления и из-за этого скапливаются около 0. То есть ошибки округления скапливаются из-за отсутствия экспоненты оставляя всю точность на манстисе, а с большими числами экспонента дают ту самую точность, чтобы не скапливать числа.

Пример 1*2^(-126) = 1.00000000000000000000001

Числа с плавающей точкой не поддерживают ассоциативность и коммутативность